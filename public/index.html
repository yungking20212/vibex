<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>VibeX — Create & Share Short Videos</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <header class="site-header">
      <div class="wrap">
        <a class="brand" href="/">VibeX</a>
        <nav class="nav">
          <a href="https://github.com/yungking20212/vibex" target="_blank" rel="noopener">Source</a>
        </nav>
      </div>
    </header>

    <main class="hero">
      <div class="wrap hero-inner">
        <div class="hero-content">
          <h1>Welcome to VibeX — Create. Share. Discover.</h1>
          <p class="lede">Coming soon to iOS — record, edit, and share short, expressive videos. Sign up to join the beta and be the first to try the app.</p>

          <div class="cta-row">
            <a class="btn primary" href="#signup" id="jumpSignup">Request Beta</a>
            <a class="btn ghost" href="#" onclick="alert('TestFlight link coming soon — we\'ll notify you.')">Notify Me</a>
          </div>

          <div class="store-badges" aria-hidden="false" style="margin-top:12px">
            <a class="badge appstore" href="#" onclick="alert('App Store page coming soon')" aria-label="Download on the App Store">Download on the App Store</a>
            <a class="badge testflight" href="#" onclick="alert('TestFlight invites coming soon')" aria-label="Join via TestFlight">Join via TestFlight</a>
          </div>
        </div>

        <div class="hero-preview">
          <div class="card">
            <img alt="VibeX mobile preview" src="/assets/phone-mockup.png" onerror="this.style.display='none'"/>
            <div class="card-text">Coming soon on the App Store · TestFlight invitations available for early testers.</div>
          </div>
        </div>
      </div>
    </main>

    <section class="features wrap">
      <div class="feature">
        <h3>Make short videos</h3>
        <p>Fast capture and simple editing tools designed for short-form storytelling.</p>
      </div>
      <div class="feature">
        <h3>Discover creators</h3>
        <p>Feeds tailored to show fresh, creative short clips from the community.</p>
      </div>
      <div class="feature">
        <h3>Share anywhere</h3>
        <p>Easy sharing and privacy controls — choose who sees your content.</p>
      </div>
    </section>

    <footer class="site-footer wrap">
      <div>© VibeX — Coming Soon to iOS</div>
      <div class="small-links"><a href="https://github.com/yungking20212/vibex" target="_blank" rel="noopener">Source</a></div>
    </footer>

    <section id="signup" class="signup-wrap wrap">
      <div class="signup-card">
        <h3>Join the beta</h3>
        <p>Enter your email and we'll invite you to TestFlight when builds are ready.</p>
        <form id="betaForm">
          <input id="betaEmail" type="email" placeholder="you@example.com" required />
          <input id="betaName" type="text" placeholder="Your name (optional)" />
          <button type="submit" class="btn primary">Request Invite</button>
        </form>
        <div id="betaStatus" class="muted" style="margin-top:0.6rem">We respect your privacy — no spam.</div>
      </div>
    </section>

    <script>
      // Signup form submission
      const betaForm = document.getElementById('betaForm');
      const betaStatus = document.getElementById('betaStatus');
      betaForm?.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const email = document.getElementById('betaEmail').value.trim();
        const name = document.getElementById('betaName').value.trim();
        betaStatus.textContent = 'Submitting...';
        try{
          const res = await fetch('/api/beta_signup', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, name })
          });
          if(res.ok){
            betaStatus.textContent = 'Thanks — you are on the list! We\'ll email when TestFlight opens.';
            betaForm.reset();
          } else {
            const text = await res.text();
            betaStatus.textContent = 'Error: ' + (text || res.statusText);
          }
        }catch(err){
          betaStatus.textContent = 'Network error: ' + (err.message||err);
        }
      });
    </script>
  </body>
</html>
